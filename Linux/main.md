[Linux](./Linux.md)

# Основное

## Горячие клавиши

| CTRL+A        | Перемещает курсор в начало строки                                                                                                 |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| CTRL+E        | Перемещает курсор в конец строки                                                                                                  |
| ALT+F         | Перемещает курсор на одно слово вперед                                                                                            |
| ALT+B         | Перемещает курсор на одно слово назад                                                                                             |
| CTRL+D        | Удаляет символ в позиции курсора                                                                                                  |
| ALT+L         | Переводит в нижний регистр символы, начиная с символа в позиции курсора и до конца слова                                          |
| ALT+U         | Переводит в верхний регистр символы, начиная с символа в позиции курсора и до конца слова                                         |
| CTRL+K        | Удаляет символы от позиции курсора до конца строки                                                                                |
| CTRL+U        | Удаляет символы от позиции курсора до начала строки                                                                               |
| ALT+D         | Удаляет символы от позиции курсора до конца текущего слова                                                                        |
| ALT+BACKSPACE | Удаляет символы от позиции курсора до начала текущего слова. Если курсор находится в начале слова, удаляется предшествующее слово |
| CTRL+Y        | ВСТАВКА                                                                                                                           |

#### Горячие клавиши истории

| CTRL+P | Переход к предыдущей записи в истории. Действует так же, как клавиша со стрелкой вверх                                                                                          |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CTRL+N | Переход к следующей записи в истории. Действует так же, как клавиша со стрелкой вниз                                                                                            |
| ALT+<  | Переход в начало (к первой записи) списка истории                                                                                                                               |
| ALT+>  | Переход в конец (к последней записи) списка истории                                                                                                                             |
| CTRL+R | Инкрементальный поиск в обратном порядке. Поиск выполняется поступательно, от текущей записи вверх по списку истории                                                            |
| ALT+P  | Поиск в обратном порядке, не инкрементальный. При использовании этого вида поиска введите искомую строку и нажмите ENTER, и только после этого будет выполнен фактический поиск |
| ALT+N  | Поиск в прямом порядке, не поступательный                                                                                                                                       |
| CTRL+O | Выполните текущую команду в списке истории и перейдите к следующей.                                                                                                             |

Эту комбинацию удобно использовать, если требуется повторно выполнить последовательность команд из списка истории |

## Групповые символы командной строки

`*****` — Любая последовательность любых символов
`**?**` — Любой один символ
`[123456]` — Любой один символ из указанного множества символов
`**[!12345]**` — Любой один символ, не принадлежащий указанному множеству символов
`**[[:класс:]]**` — Любой один символ, принадлежащий указанному классу

#### Классы

`**[:alnum:]**` — Любой алфавитно-цифровой символ
`**[:alpha:]**` — Любой алфавитный символ
`**[:digit:]**` — Любой цифровой символ
`**[:lower:]**` — Любая буква в нижнем регистре
`**[:upper:]**` — Любая буква в верхнем регистр

#### Экранированные последовательности

| Последовательность | Отображаемое значение                                                                                                                                                                                                            |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \a                 | Звонок. Заставляет компьютер издавать звуковой сигнал                                                                                                                                                                            |
| \d                 | Текущая дата в формате: день недели месяц число; например, «Mon May 26» (Пн Май 26)                                                                                                                                              |
| \h                 | Имя хоста локальной машины минус имя домена                                                                                                                                                                                      |
| \H                 | Полное имя хоста                                                                                                                                                                                                                 |
| \j                 | Число заданий, действующих в текущем сеансе                                                                                                                                                                                      |
| \l                 | Имя текущего устройства терминала                                                                                                                                                                                                |
| \n                 | Символ перевода строки                                                                                                                                                                                                           |
| \r                 | Возврат каретки                                                                                                                                                                                                                  |
| \s                 | Имя программы командной оболочки                                                                                                                                                                                                 |
| \t                 | Текущее время в 24-часовом формате                                                                                                                                                                                               |
| \T                 | Текущее время в 12-часовом формате                                                                                                                                                                                               |
| \@                 | Текущее время в 12-часовом формате AM/PM                                                                                                                                                                                         |
| \A                 | Текущее время в 24-часовом формате, часы:минуты                                                                                                                                                                                  |
| \u                 | Имя пользователя                                                                                                                                                                                                                 |
| \v                 | Номер версии командной оболочки                                                                                                                                                                                                  |
| \V                 | Номер версии и выпуска командной оболочки                                                                                                                                                                                        |
| \w                 | Имя текущего рабочего каталога                                                                                                                                                                                                   |
| \W                 | Последняя часть в имени текущего рабочего каталога                                                                                                                                                                               |
| \!                 | Номер текущей команды в истории                                                                                                                                                                                                  |
| \#                 | Число команд, введенных в текущем сеансе командной оболочки                                                                                                                                                                      |
| \$                 | Выводит символ $, если пользователь не является суперпользователем, иначе выводит символ #                                                                                                                                       |
| \[                 | Отмечает начало последовательности из одного или более непечатаемых символов. Используется для внедрения непечатаемых символов, управляющих поведением эмулятора терминала, например, перемещает курсор или изменяет цвет текста |
| \]                 | Отмечает конец последовательности непечатаемых символов                                                                                                                                                                          |

| Последовательность | Цвет текста  | Последовательность | Цвет текста      |
| ------------------ | ------------ | ------------------ | ---------------- |
| \033[0;30m         | Черный       | \033[1;30m         | Темно-серый      |
| \033[0;31m         | Красный      | \033[1;31m         | Светло-красный   |
| \033[0;32m         | Зеленый      | \033[1;32m         | Светло-зеленый   |
| \033[0;33m         | Коричневый   | \033[1;33m         | Желтый           |
| \033[0;34m         | Синий        | \033[1;34m         | Светло-синий     |
| \033[0;35m         | Пурпурный    | \033[1;35m         | Светло-пурпурный |
| \033[0;36m         | Бирюзовый    | \033[1;36m         | Светло-бирюзовый |
| \033[0;37m         | Светло-серый | \033[1;37m         | Белый            |

| Последовательность | Цвет фона  | Последовательность | Цвет фона    |
| ------------------ | ---------- | ------------------ | ------------ |
| \033[0;40m         | Черный     | \033[0;44m         | Синий        |
| \033[0;41m         | Красный    | \033[0;45m         | Пурпурный    |
| \033[0;42m         | Зеленый    | \033[0;46m         | Бирюзовый    |
| \033[0;43m         | Коричневый | \033[0;47m         | Светло-серый |

| Последовательность | Действие связанное с курсором                                              |
| ------------------ | -------------------------------------------------------------------------- |
| \033[l;cH          | Перемещает курсор в строку l и позицию c                                   |
| \033[nA            | Перемещает курсор вверх на n строк                                         |
| \033[nB            | Перемещает курсор вниз на n строк                                          |
| \033[nC            | Перемещает курсор вперед на n символов                                     |
| \033[nD            | Перемещает курсор назад на n символов                                      |
| \033[2J            | Очищает экран и помещает курсор в левый верхний угол (строка 0, позиция 0) |
| \033[K             | Очищает экран от позиции курсора до конца текущей строки                   |
| \033[s             | Сохраняет текущую позицию курсора                                          |
| \033[u             | Восстанавливает сохраненную позицию курсора                                |

## Основные каталоги

/mnt/c — Виндовый диск C:

| Каталог        | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /              | Корневой каталог, откуда все начинается                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| /bin           | Содержит двоичные (binaries) файлы (программы), необходимые для загрузки и функционирования системы                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| /boot          | Содержит ядро Linux, образ начального RAM-диска (с драйверами, необходимыми на этапе загрузки) и сам загрузчик. <br>**Интересные файлы**: <br>- /boot/grub/grub.conf или menu.lst, используются для настройки загрузчика <br>- /boot/vmlinuz (или с похожим именем), ядро Linux                                                                                                                                                                                                                                                          |
| /dev           | Специальный каталог, содержащий узлы устройств. «Все сущее есть файл» применяется также к устройствам. Здесь ядро хранит список всех известных ему устройств.                                                                                                                                                                                                                                                                                                                                                                            |
| /etc           | Содержит все системные конфигурационные файлы. Здесь же хранится коллекция сценариев командной оболочки, запускающих системные службы во время загрузки. Практически все файлы в этом каталоге содержат обычный читаемый текст. <br>**Интересные файлы**: <br>- /etc/crontab, файл, определяющий время запуска автоматизированных заданий; <br>- /etc/fstab, таблица устройств хранения и соответствующих им точек монтирования; <br>- /etc/passwd, список всех учетных записей пользователей <br>- /etc/hostname, имя компьютера(хоста) |
| /home          | В обычных конфигурациях каждому пользователю выделяется свой домашний каталог в каталоге /home. Простые пользователи могут записывать что-нибудь только в файлы, находящиеся в их домашних каталогах. Это ограничение защищает систему от необдуманных действий пользователей                                                                                                                                                                                                                                                            |
| /lib           | Содержит файлы разделяемых библиотек, используемых основными системными программами. Они напоминают библиотеки DLL в Windows                                                                                                                                                                                                                                                                                                                                                                                                             |
| /lost+found    | Каждый раздел или устройство, отформатированные с использованием файловой системы Linux, такой как ext3, будут иметь этот каталог. Он используется на случай частичного восстановления повреждений в файловой системе. Если с системой ничего страшного не происходило, этот каталог будет оставаться пустым                                                                                                                                                                                                                             |
| /media         | В современных системах Linux каталог /media будет содержать точки монтирования съемных носителей, таких как USB-диски, CD-ROM и т. д., которые монтируются в момент подключения                                                                                                                                                                                                                                                                                                                                                          |
| /mnt           | В старых системах Linux каталог /mnt содержал точки монтирования съемных носителей, монтируемых вручную                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| /opt           | Каталог /opt используется для установки «необязательного» (optional) программного обеспечения, в основном для установки коммерческого программного обеспечения                                                                                                                                                                                                                                                                                                                                                                           |
| /proc          | Специальный каталог. Не является фактической файловой системой, в том смысле, что файлы в этом каталоге не хранятся на жестком диске. Это виртуальная файловая система, поддерживаемая ядром Linux. Файлы в ней являются «глазками», через которые можно заглянуть в ядро. Эти файлы доступны для чтения и помогают «увидеть» компьютер глазами ядра                                                                                                                                                                                     |
| /root          | Домашний каталог пользователя root                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| /sbin          | Каталог содержит системные двоичные файлы (system binaries). Эти программы выполняют жизненно важные задачи и обычно запускаются только суперпользователем                                                                                                                                                                                                                                                                                                                                                                               |
| /tmp           | Каталог /tmp играет роль временного хранилища для временных файлов, создаваемых разными программами. В некоторых конфигурациях этот каталог принудительно очищается при каждой перезагрузке системы                                                                                                                                                                                                                                                                                                                                      |
| /usr           | Дерево каталогов /usr является, пожалуй, самым объемным в системе Linux. В нем хранятся все программы и файлы поддержки, используемые обычными пользователями                                                                                                                                                                                                                                                                                                                                                                            |
| /usr/bin       | Каталог /usr/bin содержит выполняемые программы, установленные дистрибутивом Linux. Очень часто в этом каталоге хранятся тысячи программ                                                                                                                                                                                                                                                                                                                                                                                                 |
| /usr/lib       | Содержит разделяемые библиотеки для программ в /usr/bin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| /usr/local     | Дерево каталогов /usr/local используется для установки тех программ, которые не входят в состав дистрибутива, но должны быть доступны всем пользователям в системе. Программы, собираемые из исходных текстов, обычно устанавливаются в /usr/local/bin. В новейших версиях системы Linux это дерево каталогов присутствует, но остается пустым, пока системный администратор не добавит туда что-нибудь                                                                                                                                  |
| /usr/sbin      | Содержит дополнительные программы для администрирования                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| /usr/share     | Каталог /usr/share содержит все разделяемые данные, используемые программами в /usr/bin, в том числе конфигурационные файлы с настройками по умолчанию, ярлыки, фоновые изображения для рабочего стола, звуковые файлы и т. д.                                                                                                                                                                                                                                                                                                           |
| /usr/share/doc | Большинство пакетов, установленных в системе, содержат документацию. Вся эта документация, организованная по пакетам, хранится в каталоге /usr/share/doc                                                                                                                                                                                                                                                                                                                                                                                 |
| /var           | За исключением /tmp и /home, все упоминавшиеся выше каталоги остаются относительно статичными; то есть их содержимое почти не меняется. Дерево каталогов /var — как раз то место, где хранятся часто изменяемые данные: различные базы данных, буферные файлы, почта пользователей и пр.                                                                                                                                                                                                                                                 |
| /var/log       | Каталог /var/log содержит файлы журналов с записями о различных действиях, выполнявшихся в системе. Они очень важны и должны проверяться время от времени. Наиболее полезными являются файлы /var/log/messages и /var/log/syslog. Обратите внимание, что из соображений безопасности некоторые системы требуют привилегий суперпользователя для просмотра файлов журналов                                                                                                                                                                |

`pwd` — выводит название текущего рабочего каталога
`cd` — выполняет переход в другой каталог

- `ls -a -hl` — выводит список содержимого каталога

  | Параметр            | Описание                                                                                                                                                                                                                                    |
  | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
  | -a --all            | Список всех (all) файлов, даже с именами, начинающимися с точки, которые обычно не выводятся (то есть скрытых)                                                                                                                              |
  | -A --almost-all     | Действует подобно параметру -a, но не выводит каталоги . (текущий рабочий каталог) и .. (родительский каталог)                                                                                                                              |
  | -d --directory      | Обычно в присутствии этого параметра команда ls выводит информацию о самом каталоге, а не его содержимое. Используйте этот параметр в сочетании с параметром -l, чтобы получить дополнительную информацию о каталоге, а не о его содержимом |
  | -f --classify       | Добавляет в конец каждого имени символ-индикатор (например, прямой слэш, если это имя каталога)                                                                                                                                             |
  | -h --human-readable | При использовании длинного формата вывода отображает размеры файлов не в байтах, а в величинах с единицами измерения                                                                                                                        |
  | -l                  | Выводит результаты с использованием длинного формата                                                                                                                                                                                        |
  | -r                  | Выводит результаты в обратном порядке. Обычно команда ls выводит результаты в алфавитном порядке                                                                                                                                            |
  | -S                  | Сортировать результаты по размеру (size)                                                                                                                                                                                                    |
  | -t                  | Сортировать результаты по времени (time) последнего изменения                                                                                                                                                                               |
  | -i --inode          | Выводит индекс каждого файла                                                                                                                                                                                                                |

  **`d rwx r-x r-x`** —  
  Первый символ указывает тип файла.  
  Следующие три символа права доступа для владельца файла,  
  следующие три — для членов группы, которой принадлежит файл,  
  и последние три — для всех остальных.

  **Типы файлов:**

  - d - DIRECTORY
  - '-' - Простой текстовый файл
  - l - LINK символическая ссылка
  - c - Специальный файл символьного устройства
  - b - Специальный файл блочного устройства

  **Права доступа:**

  - r - READ
  - w - WRITE
  - x - EXECUTE

- `file` — определяет тип файла
- `less` — содержимое файла
  Команды:
  - `Page Up` или `b` — Прокрутка к началу на одну страницу
  - `Page Down` или `ПРОБЕЛ` Прокрутка к концу на одну страницу
  - `ВВЕРХ` Прокрутка к началу на одну строку
  - `ВНИЗ` Прокрутка к концу на одну строку
  - `G` Переход в конец текстового файла
  - `1G` или `g` Переход в начало текстового файла
  - `/символы` Поиск вниз по тексту до ближайшего вхождения указанной последовательности символов
  - `n` Поиск следующего вхождения искомой последовательности символов
  - `h` Вывод экрана со справкой
  - `q` Завершить less
- `mv` — перенос файла [из] [в]

  | Параметр         | Значение                                                                                                                                                                               |
  | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
  | -i --interactive | Запрашивать у пользователя подтверждение перед перемещением существующего файла. Если этот параметр отсутствует, команда mv просто перезапишет существующие файлы (без предупреждения) |
  | -r --recursive   | При перемещении файлов из одного каталога в другой перемещать только файлы, отсутствующие в каталоге назначения или более новые                                                        |
  | -v --verbose     | Выводить информационные сообщения в процессе перемещения                                                                                                                               |

- `cp` — копирование файла
  `сp *item1 item2*`

  | Параметр         | Значение                                                                                                                                                                                                                                                                         |
  | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
  | -a --archive     | Скопировать файлы и каталоги со всеми атрибутами, включая идентификаторы владельцев и права доступа. Без этого параметра копии обычно получают значения атрибутов по умолчанию, определенных для пользователя, выполняющего копирование.                                         |
  | -i --interactive | Запрашивать у пользователя подтверждение перед перезаписью существующего файла. Если этот параметр отсутствует, команда cp просто перезапишет существующие файлы (без предупреждения)                                                                                            |
  | -r --recursive   | Рекурсивно копировать каталоги и их содержимое. Это обязательный параметр (или параметр -a) при копировании каталогов                                                                                                                                                            |
  | -u --update      | При копировании файлов из одного каталога в другой копировать только файлы, отсутствующие в каталоге назначения или более новые. Этот параметр удобно использовать при копировании большого числа файлов, так как он позволяет пропустить файлы, которые не требуется копировать |
  | -v --verbose     | Выводить информационные сообщения в процессе копирования                                                                                                                                                                                                                         |

- `rm` — удаление файла _(нет команды отмены!)._

  | Параметр         | Значение                                                                                                                                                                            |
  | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
  | -i --interactive | Запрашивать у пользователя подтверждение перед удалением существующего файла. Если этот параметр отсутствует, команда rm просто перезапишет существующие файлы (без предупреждения) |
  | -r --recursive   | Рекурсивно удалить каталоги. То есть вместе с каталогом будут удалены все его подкаталоги. Это обязательный параметр при удалении каталогов                                         |
  | -f --force       | Игнорировать отсутствующие файлы и не запрашивать подтверждения. Этот параметр отменяет действие параметра --interactive                                                            |
  | -v --verbose     | Выводить информационные сообщения в процессе удаления                                                                                                                               |

`mkdir` — создать каталог

`touch` — создать файл

- `ln` — создать жесткую или символьную ссылку
  `ln *файл ссылка*` — создает жесткую ссылку.
  `ln -s *элемент ссылка`\* — создает символическую ссылку, элементом может быть файл или каталог.

`scp` — передача файлов по ssh

### Поиск файлов

`locate` — выполняет поиск файлов по именам, благодаря базе данных поддерживаемой cron.

- `find` — выполняет поиск файлов в иерархии каталогов.

  | Проверка      | Описание                                                                                                                                                                                                                                                                                                                                                                                            |
  | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
  | name шаблон   | соответствует файлам и каталогам, имена которых совпадают с указанным шаблоном                                                                                                                                                                                                                                                                                                                      |
  | -iname шаблон | Действует так же, как проверка -name, но различает регистр символов                                                                                                                                                                                                                                                                                                                                 |
  | -type c       | Соответствует файлам с типом c                                                                                                                                                                                                                                                                                                                                                                      |
  | -empty        | Соответствует пустым файлам и каталогам                                                                                                                                                                                                                                                                                                                                                             |
  | -user имя     | Соответствует файлам или каталогам, принадлежащим пользователю с указанным именем. Аргумент имя может быть именем или числовым идентификатором пользователя                                                                                                                                                                                                                                         |
  | -nouser       | Соответствует файлам и каталогам, не принадлежащим какому-либо допустимому пользователю. Эту проверку можно использовать для поиска файлов, принадлежащих удаленным учетным записям, или для обнаружения следов злоумышленников                                                                                                                                                                     |
  | -group группа | Соответствует файлам или каталогам, принадлежащим указанной группе. Группа может задаваться именем или числовым идентификатором группы                                                                                                                                                                                                                                                              |
  | -nogroup      | Соответствует файлам и каталогам, не принадлежащим какой-либо допустимой группе                                                                                                                                                                                                                                                                                                                     |
  | -size n       | Соответствует файлам с размером n                                                                                                                                                                                                                                                                                                                                                                   |
  | -perm режим   | Соответствует файлам или каталогам с указанным режимом доступа. Режим может задаваться восьмеричным числом или иметь символическую форму                                                                                                                                                                                                                                                            |
  | -inum n       | Соответствует файлам с номером индексного узла (inode) n. Эту проверку удобно использовать для поиска всех жестких ссылок на определенный индексный узел                                                                                                                                                                                                                                            |
  | -samefile имя | Действует так же, как проверка -inum. Соответствует файлам с тем же номером индексного узла (inode), что и файл с указанным именем                                                                                                                                                                                                                                                                  |
  | -cnewer имя   | Соответствует файлам или каталогам, содержимое или атрибуты которых последний раз изменялись позже, чем у файла с указанным именем                                                                                                                                                                                                                                                                  |
  | -cmin n       | Соответствует файлам или каталогам, содержимое или атрибуты которых последний раз изменялись точно n минут назад. Чтобы выразить условие «менее n минут назад», используйте -n; чтобы выразить условие «более n минут назад», используйте +n                                                                                                                                                        |
  | -ctime n      | Соответствует файлам или каталогам, содержимое или атрибуты(то есть разрешения) которых последний раз изменялись более чем n\*24 часов назад                                                                                                                                                                                                                                                        |
  | -mmin n       | Соответствует файлам или каталогам, содержимое которых последний раз изменялось n минут назад                                                                                                                                                                                                                                                                                                       |
  | -mtime n      | Соответствует файлам или каталогам, содержимое которых последний раз изменялось n\*24 часов назад                                                                                                                                                                                                                                                                                                   |
  | -newer имя    | Соответствует файлам и каталогам, содержимое которых последний раз изменялось позже, чем у файла с указанным именем. Эта проверка может пригодиться в сценариях, выполняющих резервное копирование файлов. Каждый раз, в процессе создания резервной копии, можно обновлять файл (например, файл журнала) и затем с помощью find определять, какие файлы изменились с момента последнего обновления |

  `xargs` — конструирует команды на основе данных, полученных из стандартного
  ввода, и выполняет их.
  `touch` — изменяет времена, ассоциированные с файлом;
  `stat` — выводит статус файла или файловой системы.
