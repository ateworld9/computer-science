[Linux](./Linux.md)

# Привилегии(доступ к файлам)

`id` — выводит информацию об идентичности пользователя;

`chmod *600 foo.txt*` — изменяет режим доступа к файлу;

| Восьмеричное | Двоичное | Режим доступа |
| ------------ | -------- | ------------- |
| 0            | 000      | ---           |
| 1            | 001      | --x           |
| 2            | 010      | -w-           |
| 3            | 011      | -wx           |
| 4            | 100      | r--           |
| 5            | 101      | r-x           |
| 6            | 110      | rw-           |
| 7            | 111      | rwx           |

второй вариант u+x,go=rx  
u — user  
g — group  
o — other(world)  
a — all

\- — добавить права  
\* — отнять права  
= — установить конкретные права(независимо какие были)

`umask` — определяет разрешения доступа к файлам по умолчанию
umask 0022 — стандартное значение ubuntu, каждое число это восьмеричное представление разрешения(см. `chmod`)

- первое число
  - Первый атрибут — бит setuid (восьмеричное значение 4000).  
    Если это разрешение применяется к выполняемому файлу, в качестве эффективного идентификатора пользователя для процесса устанавливается не идентификатор реального пользователя (пользователя, фактически запустившего программу), а идентификатор владельца программы. Чаще этот бит устанавливается для программ, владельцем которых является суперпользователь. Когда обычный пользователь запускает программу с установленным битом setuid, принадлежащую пользователю root, программа выполняется с эффективными привилегиями суперпользователя. Это дает возможность программам обращаться к файлам и каталогам, недоступным для обычного пользователя. Очевидно, что из-за возникающих проблем безопасности число таких программ в системе должно быть сведено к минимуму.
  - Второй редко используемый атрибут — бит setgid (восьмеричное значение 2000).  
     По аналогии с битом setuid он устанавливает эффективный идентификатор группы для процесса, выбирая вместо идентификатора группы реального пользователя группу владельца файла. Если установить бит setgid для каталога, вновь создаваемые файлы в этом каталоге будут принадлежать группе владельца каталога, а не группе владельца файла, создавшего его.  
     Это разрешение может пригодиться для установки на каталоги, содержимое которых должно быть доступно всем членам основной группы владельца каталога, независимо от принадлежности к основной группе владельца файла.
  - Третий атрибут называется битом sticky (восьмеричное значение 1000).  
    Это пережиток, оставшийся от первых версий Unix, которые предоставляли возможность пометить выполняемый файл как «невытесняемый». Linux игнорирует бит sticky у файлов, но если установить его для каталога, он не позволит пользователю удалять или переименовывать файлы, если только пользователь не является владельцем каталога, владельцем файла или суперпользователем. Это разрешение часто применяется для управления доступом к общим каталогам, таким как /tmp.
- второе число — маска для владельца
- третье число — маска для группы
- четвертое число — маска для остальных  
  Пример: маска 0022

  | Исходный режим доступа к файлу | --- | rw- | rw- | rw- |
  | ------------------------------ | --- | --- | --- | --- |
  | Маска                          | 000 | 000 | 010 | 010 |
  | Результат                      | --- | rw- | r-- | r-- |

`su` — запускает командную оболочку от имени другого пользователя;  
`sudo` — выполняет команду от имени другого пользователя;  
`chown` — изменяет владельца файла;  
`chgrp` — изменяет группу файла;  
`passwd` — изменяет пароль пользователя.

`fuser` —
